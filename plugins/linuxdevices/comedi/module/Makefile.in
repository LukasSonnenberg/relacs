ifneq ($(KERNELRELEASE),)

EXTRA_CFLAGS += -I/usr/src/rtai-3.6/base/include/ -I/usr/include/ -ffast-math -mhard-float

EXTRA_CFLAGS += -Wall

obj-m := dynclamp.o
dynclamp-objs := rtmodule.o model.o

else

LINUXDIR := /lib/modules/`uname -r`/build
PWD     := $(shell pwd)
CC := gcc

all: module

module:
	$(MAKE) -C $(LINUXDIR) CC=$(CC) SUBDIRS=$(PWD) modules

clean:
	-rm -f *.ko *.o *.mod.c logdata

distclean: clean
distdir:
mostlyclean: clean
check:
install:
uninstall:

endif

