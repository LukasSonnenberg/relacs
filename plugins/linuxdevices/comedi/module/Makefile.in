ifneq ($(KERNELRELEASE),)

EXTRA_CFLAGS += @RTAI_CPPFLAGS@ -I/usr/include/ -ffast-math -mhard-float

EXTRA_CFLAGS += -Wall

obj-m := dynclampmodule.o rtmodule.o

else

LINUXDIR := /lib/modules/`uname -r`/build
PWD     := $(shell pwd)
CC := gcc

all: module

module:
	$(MAKE) -C $(LINUXDIR) CC=$(CC) SUBDIRS=$(PWD) modules

clean:
	-rm -f *.ko *.o *.mod.c logdata

distclean: clean
distdir:
mostlyclean: clean
check:
install:
uninstall:

endif

