This is a skeleton of directories and files for a new plugin set.

For creating a new plugin set with name <new-plugin-set-name>,
first copy the skel/ directory (cd to the plugins/ directory)

$ cp -r skel <new-plugin-set-name>

then remove all hidden directories (.svn) and this README file

$ find <new-plugin-set-name> -name '.*' -print0 | xargs -0 rm -r -f 
$ rm <new-plugin-set-name>/README

rename the include directory

$ mv include/relecs/skel include/relecs/<new-plugin-set-name>

and make it known to SVN

$ svn add <new-plugin-set-name>


You need to edit the following files:

Makefile.am:
- Replace all occurrences of "skel" by <new-plugin-set-name>
- Line 14: Provide a long name for the new plugin set
- Line 19: Provide a short description of the new plugin set

relacs.cfg:
- Line 6: Replace "skel" by <new-plugin-set-name>
- Line 6: Add additional plugin sets as required
- Adapt the remaining configuration parameter as required

relacsplugins.cfg:
- Adapt the metadata sections at the top as required

macros.cfg
- Edit the macros as required

relacslocal.in:
- Line 23: Replace "skel" by <new-plugin-set-name>

doc/skel.doc:
- Rename this file to <new-plugin-set-name>.doc:
$ mv doc/skel.doc doc/<new-plugin-set-name>.doc
- Line 2: Provide the same short description as in Makefile.am line 19
- Line 4: A one line description of the plugin set
- Add as much information as required (in doxygen format)


Now create your new plugin file(s) by putting their header files into 
include/relacs/<new-plugin-set-name> and their source files into src/.

Then edit
src/Makefile.am:
- Line 1: Replace "skel" by <new-plugin-set-name>
- pluginlib_LTLIBRARIES: Add the names of all the new plugins here
  according to the pattern "lib<new-plugin-set-name><newpluginname>.la"
- For each new plugin you need to make a copy of lines 11-34 and do 
  the following modifications:
  - Replace "libskelnewrepro" by "lib<new-plugin-set-name><newpluginname>"
  - Replace "newrepro" by "<newpluginname>"
  - If necessary add more dependencies to libskelnewrepro_la_CPPFLAGS
    and libskelnewrepro_la_LIBADD
- Each new plugin needs to be added to check_PROGRAMS according to the
  pattern "linktest_lib<new-plugin-set-name><newpluginname>_la"
- Make a copy of lines 42-43 and
  replace "libskelnewrepro" by "lib<new-plugin-set-name><newpluginname>"


To make the new plugin set known to the build system
- cd to the relacs base directory
- Add a RELACS_PLUGINSET line to configure.ac (in the "Plugin sets" section):
  RELACS_PLUGINSET([<new-plugin-set-name>],[<new-plugin-set-name>],[dependencies])
- Add
  AC_CONFIG_FILES([plugins/<new-plugin-set-name>/relacslocal], [chmod a+x plugins/<new-plugin-set-name>/relacslocal])
  right before the "RELACS general" section
- remove doc/doclinkstamp
$ rm doc/doclinkstamp
- run
$ ./bootstrap.sh
and
$ ./configure



TODO:
Eventually most of this should be put into a shell script!
